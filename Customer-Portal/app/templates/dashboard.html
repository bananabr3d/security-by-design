{% extends "base.html" %}

{% block header_title %}
{% block title %}
Dashboard
{% endblock %}
{% endblock %}


{% block content %}
<section>
  <h1>Hello, {{ username }}!</h1>
  <h2>Contracts</h2>
  <div class="contract-list">
    {% for contract in contract_list %}
    <hr class="dashed">
      <div class="contract">
        <h5>Contract ID: <a href="/dashboard/{{ contract._id }}">{{ contract._id }}</a></h3>
        <h6>Electricity Meter ID: {{ contract.electricity_meter_id }}</h6>
        <h6>Electricity Meter Value: {{ contract.electricity_meter_value }} kWh</h6>
        <h6>Electricity Meter Last Update: {{ contract.electricity_meter_last_update }}</h6>
      </div>
    {% endfor %}
  </div>
  <hr>
  <div>
    <h2>Add a contract</h2>
    <!-- Add a contract with em-id -->
    <form method="post" action="/add-contract" onsubmit="return confirm('Are you sure you want to submit this form?');">
      <label for="">Electricity Meter ID</label>
      <input type="text" id="electricity_meter_id" name="electricity_meter_id">
      <label for="">PLZ</label>
      <input type="text" id="address_plz" name="address_plz">
      <label for="">Street</label>
      <input type="text" id="address_street" name="address_street">
      <label for="">Street Number</label>
      <input type="text" id="address_street_number" name="address_street_number">
      <label for="">City</label>
      <input type="text" id="address_city" name="address_city">
      <label for="">Country</label>
      <input type="text" id="address_country" name="address_country">
      <label for="">Notes</label>
      <input type="text" id="notes" name="notes">
      <button type="submit">Add Contract</button>
    </form>
  </div>
</section>
{% endblock %}